<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>3D Flipbook Gallery</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap');
    .scene { perspective: 1200px; }
    .prism {
        transform-style: preserve-3d;
        transition: transform 1s linear;
        transform: translateZ(-500px) rotateY(0deg);
    }
    .face {
        position: absolute;
        backface-visibility: hidden;
        box-shadow: 0 0 20px rgba(255,255,255,0.1);
        border-radius: 8px;
        overflow: hidden;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .controls button { transition: all 0.3s ease; }
    .controls button:hover { transform: translateY(-3px); }
    .audio-control { transition: all 0.3s ease; }
    .audio-control:hover { transform: scale(1.1); }
    .progress-container { height: 4px; background: rgba(255,255,255,0.2); }
    .progress-bar { height: 100%; background: #f472b6; transition: width 0.1s linear; }
</style>
</head>
<body class="text-white font-['Poppins'] overflow-hidden" style="background: url('https://wallpapers.com/images/hd/4k-star-1f94z8nf5tkiaijn.jpg') center/cover no-repeat;">

<div class="scene w-full h-screen flex justify-center items-center relative">
    <!-- Audio Controls -->
    <div class="absolute top-5 left-5 z-20 flex items-center space-x-4">
        <div class="audio-control cursor-pointer" onclick="toggleAudio()">
            <svg id="audio-icon" xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-pink-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z" />
            </svg>
        </div>
        <div class="text-pink-300 text-sm hidden md:block">
            <span id="current-page">1</span>/<span id="total-pages">10</span>
        </div>
    </div>

    <!-- Prism -->
    <div class="prism w-64 h-80 md:w-80 md:h-96 lg:w-96 lg:h-112" id="prism">
        <!-- Faces -->
        <div class="face w-full h-full bg-gradient-to-br from-pink-900/50 to-purple-900/50 backdrop-blur-sm border border-pink-200/20 flex flex-col justify-center items-center p-6">
            <img src="https://mystickermania.com/cdn/stickers/cute-cats/embarrassed-mochi-peach-cat-512x512.png" class="max-w-full max-h-48 md:max-h-56 mb-4 object-contain">
            <p class="text-pink-100 text-sm md:text-base text-center">You're like, character skin. On default, ice cold vibe. But you had a gentle smileğŸ« </p>
        </div>
        <div class="face w-full h-full bg-gradient-to-br from-blue-900/50 to-indigo-900/50 backdrop-blur-sm border border-blue-200/20 flex flex-col justify-center items-center p-6">
            <img src="https://img-07.stickers.cloud/packs/620349e5-4cda-4278-9242-6136e9191369/webp/a9d373b5-6c78-4206-a01f-96618ba0f6e9.webp" class="max-w-full max-h-48 md:max-h-56 mb-4 object-contain">
            <p class="text-blue-100 text-sm md:text-base text-center">Your smile remind me of.. Snow squirrel  ğŸ‘‰ğŸ‘ˆ They're.. cuteeeeee</p>
        </div>
        <div class="face w-full h-full bg-gradient-to-br from-purple-900/50 to-pink-900/50 backdrop-blur-sm border border-purple-200/20 flex flex-col justify-center items-center p-6">
            <img src="https://s3.getstickerpack.com/storage/uploads/sticker-pack/mochi-mochi-peach-cat-2/tray_large.png?a12dfc854d72837445ff985adf2b8d70" class="max-w-full max-h-48 md:max-h-56 mb-4 object-contain">
            <p class="text-purple-100 text-sm md:text-base text-center">Its suits youu, loving and sweetest soulğŸ™‚â€â†•ï¸</p>
        </div>
        <div class="face w-full h-full bg-gradient-to-br from-yellow-900/50 to-orange-900/50 backdrop-blur-sm border border-yellow-200/20 flex flex-col justify-center items-center p-6">
            <img src="https://img-13.stickers.cloud/packs/cd0ac0f2-30f7-4483-83ae-84e0b52131aa/webp/59298552-b4e6-418a-aaa6-7744d6f2cef6.webp" class="max-w-full max-h-48 md:max-h-56 mb-4 object-contain">
            <p class="text-yellow-100 text-sm md:text-base text-center">The smile, and that little chuckle you tend to do. It melts any heart</p>
        </div>
        <div class="face w-full h-full bg-gradient-to-br from-green-900/50 to-teal-900/50 backdrop-blur-sm border border-green-200/20 flex flex-col justify-center items-center p-6">
            <img src="https://s3.getstickerpack.com/storage/uploads/sticker-pack/mochi-mochi-peach-cat-1/sticker_1.png?e77a96a80bda2baa6d4cf71a5cdbb51a&d=200x200" class="max-w-full max-h-48 md:max-h-56 mb-4 object-contain">
            <p class="text-green-100 text-sm md:text-base text-center">You can smile effortlessly and it still calming to seeğŸ« </p>
        </div>
        <div class="face w-full h-full bg-gradient-to-br from-red-900/50 to-pink-900/50 backdrop-blur-sm border border-red-200/20 flex flex-col justify-center items-center p-6">
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT8bHy-gmXxOYgKGVrCi6dI8C4GFftVthaXC6asE4cUfh9FWSv5G8aJSeSQrFdi-9OzKLA&usqp=CAU" class="max-w-full max-h-48 md:max-h-56 mb-4 object-contain">
            <p class="text-red-100 text-sm md:text-base text-center">People can't resist those charming wide smile</p>
        </div>
        <div class="face w-full h-full bg-gradient-to-br from-indigo-900/50 to-blue-900/50 backdrop-blur-sm border border-indigo-200/20 flex flex-col justify-center items-center p-6">
            <img src="https://s3.getstickerpack.com/storage/uploads/sticker-pack/1-1618604062/sticker_2.png?fe37ddafeff07fd0cc6567ebfe73d7df&d=200x200" class="max-w-full max-h-48 md:max-h-56 mb-4 object-contain">
            <p class="text-indigo-100 text-sm md:text-base text-center">Its treasure worthh</p>
        </div>
        <div class="face w-full h-full bg-gradient-to-br from-teal-900/50 to-green-900/50 backdrop-blur-sm border border-teal-200/20 flex flex-col justify-center items-center p-6">
            <img src="https://s3.getstickerpack.com/storage/uploads/sticker-pack/1-1618604062/sticker_1.png?fe37ddafeff07fd0cc6567ebfe73d7df&d=200x200" class="max-w-full max-h-48 md:max-h-56 mb-4 object-contain">
            <p class="text-teal-100 text-sm md:text-base text-center">Honestly fit your lovely and cute characteristics</p>
        </div>
        <div class="face w-full h-full bg-gradient-to-br from-orange-900/50 to-yellow-900/50 backdrop-blur-sm border border-orange-200/20 flex flex-col justify-center items-center p-6">
            <img src="https://m.media-amazon.com/images/I/51TSlK++W-L.jpg" class="max-w-full max-h-48 md:max-h-56 mb-4 object-contain">
            <p class="text-orange-100 text-sm md:text-base text-center">You had a unique smile, paired with those pillars of creation eyes. Perfect</p>
        </div>
        <div class="face w-full h-full bg-gradient-to-br from-violet-900/50 to-purple-900/50 backdrop-blur-sm border border-violet-200/20 flex flex-col justify-center items-center p-6">
            <img src="https://www.line-stickers.com/wp-content/uploads/2020/02/Mochi-Mochi-Peach-Cat-.png" class="max-w-full max-h-48 md:max-h-56 mb-4 object-contain">
            <p class="text-violet-100 text-sm md:text-base text-center">Lotttttt moreee of the reasons. But importantly, it means, you're happyyyyğŸ™‚â€â†•ï¸</p>
        </div>
    </div>

    <!-- Progress bar -->
    <div class="progress-container absolute bottom-20 left-0 right-0 mx-auto w-64 md:w-80 lg:w-96">
        <div class="progress-bar" id="progress-bar"></div>
    </div>

    <!-- Controls -->
    <div class="controls fixed bottom-8 left-0 right-0 mx-auto flex justify-center space-x-6 z-10">
        <button onclick="prev()" class="bg-pink-600 hover:bg-pink-700 text-white font-medium py-2 px-6 rounded-full shadow-lg">Prev</button>
        <button onclick="next()" class="bg-pink-600 hover:bg-pink-700 text-white font-medium py-2 px-6 rounded-full shadow-lg">Next</button>
    </div>
</div>

<audio id="bgm" muted loop>
  <source src="https://raw.githubusercontent.com/Atashino/Your-smile/main/bgm.mp3" type="audio/mpeg">
</audio>

<script>
  document.addEventListener('click', function unmute() {
    const audio = document.getElementById('bgm');
    audio.muted = false;
    audio.play().catch(err => console.log('Playback failed:', err));
    document.removeEventListener('click', unmute);
  });
</script>

<script>
const prism = document.getElementById('prism');
const totalPages = document.getElementById('total-pages');
const currentPage = document.getElementById('current-page');
const progressBar = document.getElementById('progress-bar');
const audio = document.getElementById('bgm');

let angle = 0;
const faceCount = 10;
const faceAngle = 360 / faceCount;
let currentFace = 0;
let rotateInterval = null;

function stopAutoRotate() {
    if (rotateInterval) {
        clearInterval(rotateInterval);
        rotateInterval = null;
    }
}

// Setup faces with hover/touch push-back
const faces = prism.querySelectorAll('.face');
totalPages.textContent = faceCount;
faces.forEach((face, i) => {
    const baseTransform = `rotateY(${i * faceAngle}deg) translateZ(500px)`;
    face.style.transform = baseTransform;
    face.dataset.baseTransform = baseTransform;

    // Hover for desktop
    face.addEventListener('mouseenter', () => {
        face.style.transform = `${face.dataset.baseTransform} translateZ(-60px) scale(0.95)`;
    });
    face.addEventListener('mouseleave', () => {
        face.style.transform = face.dataset.baseTransform;
    });

    // Touch for mobile
    let pushed = false;
    face.addEventListener('touchstart', () => {
        pushed = !pushed;
        face.style.transform = pushed
            ? `${face.dataset.baseTransform} translateZ(-60px) scale(0.95)`
            : face.dataset.baseTransform;
    });
});

function updateProgress() {
    const progress = (currentFace / (faceCount - 1)) * 100;
    progressBar.style.width = `${progress}%`;
    currentPage.textContent = currentFace + 1;
}

function rotateToFace() {
    angle = -currentFace * faceAngle;
    prism.style.transform = `translateZ(-500px) rotateY(${angle}deg)`;
    updateProgress();
}

function next() {
    stopAutoRotate();
    currentFace = (currentFace + 1) % faceCount;
    rotateToFace();
}

function prev() {
    stopAutoRotate();
    currentFace = (currentFace - 1 + faceCount) % faceCount;
    rotateToFace();
}

function startAutoRotate() {
    if (rotateInterval) clearInterval(rotateInterval);
    rotateInterval = setInterval(() => {
        angle -= 0.3; // slow steady rotation
        prism.style.transform = `translateZ(-500px) rotateY(${angle}deg)`;
    }, 50);
}

// Stop rotation on any click
document.addEventListener('click', stopAutoRotate);

// Keyboard navigation
document.addEventListener('keydown', (e) => {
    if (e.key === 'ArrowRight') next();
    if (e.key === 'ArrowLeft') prev();
});

// Start
startAutoRotate();
updateProgress();
audio.volume = 0.3;
</script>

</body>
</html>
